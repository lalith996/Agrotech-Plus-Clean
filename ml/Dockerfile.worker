FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt /app/requirements.txt
RUN pip install --no-cache-dir -r /app/requirements.txt
COPY worker /app/worker
COPY scripts /app/scripts
ENV REDIS_URL=redis://redis:6379/0
CMD ["bash", "-lc", "celery -A worker.celery_app worker --loglevel=info"]